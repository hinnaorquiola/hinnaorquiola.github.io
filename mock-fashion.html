<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hinna Studio ‚Äî Timeless Collection</title>
  <meta name="description" content="Hinna Studio ‚Äî Timeless pieces, effortless style. Minimalist wardrobe crafted with sustainable materials.">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #f9f7f3;
      --panel: #ffffff;
      --alt-bg: #f3efe7;
      --gold: #bfa14a;
      --muted: #6f6a63;
      --dark: #151412;
      --radius: 14px;
      --max-width:1200px;
      --transition: 260ms;
      --elev: 0 14px 40px rgba(21,18,16,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%;overflow-x:hidden;margin:0}
    body{
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      color:var(--dark);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      -webkit-touch-callout:none;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}
    .site {max-width:var(--max-width);margin:0 auto;padding:0 24px;}

    /* NAV */
    nav.top {
      position:fixed;left:0;right:0;top:0;z-index:1300;
      display:flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.85); /* visible by default so user saw it missing */
      padding:12px 0;
      transition:background var(--transition),box-shadow var(--transition),padding var(--transition);
      backdrop-filter: blur(6px);
    }
    /* stronger on scroll */
    nav.top.solid { background: linear-gradient(180deg, rgba(249,247,243,0.98), rgba(249,247,243,0.98)); box-shadow: 0 8px 30px rgba(21,18,16,0.06); padding:10px 0;}
    .nav-inner {width:100%;max-width:var(--max-width);display:flex;justify-content:space-between;align-items:center;padding:0 24px;gap:12px}
    .brand {display:flex;align-items:center;gap:14px;text-decoration:none;color:var(--dark)}
    .brand .logo {
      width:48px;height:48px;border-radius:10px;background:linear-gradient(180deg,#fff, #f7f4ef);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--dark);
      font-family:"Playfair Display",serif;font-size:20px;border:1px solid rgba(21,18,16,0.06);
      box-shadow:0 6px 18px rgba(21,18,16,0.04);
    }
    .brand .sub {font-size:12px;color:var(--muted);line-height:1}
    .nav-links {display:flex;gap:22px;align-items:center}
    .nav-links a {color:var(--dark);font-weight:600;letter-spacing:0.6px;opacity:0.95;padding:8px;border-radius:8px}
    .nav-links a:focus{outline:3px solid rgba(191,161,74,0.15)}
    .nav-actions {display:flex;align-items:center;gap:10px}
    .cart-btn {background:var(--dark);color:#fff;border-radius:999px;padding:8px 12px;border:none;cursor:pointer;font-weight:700;display:inline-flex;align-items:center;gap:8px}
    .cart-count {background:var(--gold);color:var(--dark);padding:2px 8px;border-radius:999px;font-size:0.8rem;margin-left:-6px}
    .menu-btn{background:transparent;border:1px solid rgba(21,18,16,0.06);padding:8px 10px;border-radius:10px;cursor:pointer}

    /* HERO */
    header.site-head{
      position:relative;
      display:block;
      overflow:hidden;
      background: #111 url('images/fashion hero-bg.webp') center/cover no-repeat;
      height:86vh;
      min-height:560px;
      display:flex;align-items:center;justify-content:center;
    }
    header.site-head::before{
      content:"";position:absolute;inset:0;background:
      linear-gradient(0deg, rgba(249,247,243,0.0) 0%, rgba(21,18,16,0.28) 70%), linear-gradient(180deg, rgba(21,18,16,0.18), rgba(21,18,16,0.12));
      mix-blend-mode:multiply;
    }
    .hero { position:relative;z-index:12;max-width:1200px;width:100%;padding:48px;color:var(--panel);text-align:center;display:flex;flex-direction:column;align-items:center;gap:12px;}
    .hero .brandline{display:flex;gap:12px;align-items:center;color:rgba(255,255,255,0.88)}
    .hero h1{font-family:"Playfair Display",serif;font-weight:700;font-size:clamp(36px,6vw,84px);margin:8px 0 6px;color:#fff;text-shadow:0 10px 30px rgba(0,0,0,0.45);}
    .hero p.lead {font-family:'Great Vibes',cursive;margin:0;color:rgba(255,255,255,0.95);font-size:clamp(20px,3.2vw,36px);}
    .hero .cta {display:flex;gap:14px;margin-top:12px}
    .btn { display:inline-flex;gap:8px;align-items:center;padding:12px 20px;border-radius:999px;background:var(--panel);color:var(--dark);font-weight:700;border:none;cursor:pointer;box-shadow:0 14px 40px rgba(21,18,16,0.12);transition:transform var(--transition),box-shadow var(--transition);}
    .btn:hover{transform:translateY(-4px)}
    .btn.alt { background:transparent;border:1px solid rgba(255,255,255,0.18);color:#fff;box-shadow:none }

    /* SECTION */
    section {padding:72px 0}
    .section-inner{max-width:var(--max-width);margin:0 auto;padding:0 24px}
    h2.section-title{font-family:"Playfair Display",serif;font-size:28px;margin:0 0 12px;color:var(--dark);letter-spacing:0.6px;}
    p.section-sub {color:var(--muted);margin:0 0 28px;max-width:820px}

    /* ALT SECTION BACKGROUND (applied to collection & about) */
    section.alt-bg{background:var(--alt-bg);border-top:1px solid rgba(21,18,16,0.02)}

    /* LOOKBOOK / PRODUCTS */
    .lookbook { display:grid;gap:28px; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); align-items:start;}
    .product-card { background:var(--panel);border-radius:12px;overflow:hidden;border:1px solid rgba(21,18,16,0.04);box-shadow:var(--elev);transition:transform .36s,box-shadow .36s;display:flex;flex-direction:column;}
    .product-card:hover{transform:translateY(-10px);box-shadow:0 30px 80px rgba(21,18,16,0.08)}
    .product-card .media{height:360px;overflow:hidden}
    .product-card img{width:100%;height:100%;object-fit:cover;display:block}
    .product-meta{padding:18px;display:flex;flex-direction:column;gap:8px}
    .product-meta h4{margin:0;font-family:"Playfair Display",serif;font-size:18px;color:var(--dark)}
    .product-meta .price{color:var(--muted);font-weight:600}
    .product-meta .row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:8px}

    /* ABOUT / GRID */
    .about-grid{display:grid;grid-template-columns:1fr 1fr;gap:36px;align-items:center}
    .about-img{border-radius:12px;overflow:hidden;box-shadow:var(--elev)}
    .about-img img{width:100%;height:480px;object-fit:cover;display:block}
    .about-text h3{font-family:"Playfair Display",serif;margin-top:0;font-size:28px}
    .muted{color:var(--muted)}

    /* EDITORIAL PORTRAITS */
    .editorial { display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px;}
    .editorial .portrait {border-radius:12px;overflow:hidden;min-height:360px;position:relative}
    .editorial .portrait img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .5s}
    .editorial .portrait:hover img{transform:scale(1.04)}

    /* CTA Banner */
    .banner { background: linear-gradient(90deg, rgba(191,161,74,0.06), rgba(249,247,243,0.02)); border-radius:12px;padding:22px;border:1px solid rgba(191,161,74,0.09); display:flex;align-items:center;justify-content:space-between;gap:18px;flex-wrap:wrap; }

    /* TESTIMONIALS */
    .testimonial-wrap{display:flex;gap:12px;align-items:center;justify-content:center;flex-direction:column}
    .testimonial {max-width:820px;text-align:center;padding:22px;border-radius:12px;border:1px solid rgba(21,18,16,0.04);background:var(--panel);box-shadow:0 8px 30px rgba(21,18,16,0.03)}
    .testimonial p{margin:0;color:var(--muted)}
    .testimonial cite{display:block;margin-top:12px;font-weight:700;color:var(--dark)}

    /* PRESS */
    .press-logos{display:flex;gap:18px;align-items:center;justify-content:flex-start;flex-wrap:wrap}
    .press-logos img{height:36px;opacity:0.85;filter:grayscale(1);transition:opacity .2s,filter .2s}
    .press-logos img:hover{opacity:1;filter:none}

    /* CONTACT PANEL */
    .contact-panel{ background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.82)); padding:24px;border-radius:12px;border:1px solid rgba(21,18,16,0.04); display:flex;gap:24px;align-items:center;justify-content:space-between;flex-wrap:wrap; }

    /* DRAWER / MODAL */
    .drawer{position:fixed;right:0;top:0;height:100vh;width:360px;background:var(--panel);box-shadow:-28px 0 60px rgba(21,18,16,0.12);transform:translateX(110%);transition:transform .35s;z-index:1500;display:flex;flex-direction:column}
    .drawer.open{transform:translateX(0)}
    .drawer .head{padding:20px;border-bottom:1px solid rgba(21,18,16,0.04);display:flex;justify-content:space-between;align-items:center}
    .drawer .items{flex:1;overflow:auto;padding:12px}
    .drawer .checkout{padding:18px;border-top:1px solid rgba(21,18,16,0.04)}
    .modal{position:fixed;inset:0;background:rgba(11,8,6,0.55);display:none;align-items:center;justify-content:center;padding:24px;z-index:1400}
    .modal.open{display:flex}
    .sheet{background:var(--panel);border-radius:12px;max-width:920px;width:100%;overflow:hidden;display:flex;gap:0;box-shadow:0 30px 80px rgba(21,18,16,0.25)}
    .sheet .left{flex:1 1 50%}
    .sheet .right{flex:1 1 50%;padding:28px}
    .sheet img{width:100%;height:100%;object-fit:cover;display:block}
    .close-btn{position:absolute;right:18px;top:18px;background:var(--panel);border-radius:50%;border:none;padding:6px;cursor:pointer;box-shadow:0 6px 22px rgba(0,0,0,0.06)}

    footer{padding:42px 0;text-align:center;color:var(--muted);font-size:0.95rem}

    /* footer image */
    .footer-image-wrapper{width:100%;display:flex;justify-content:flex-end;margin:0;padding:0;overflow:hidden}
    .footer-image-wrapper img{width:420px;max-width:45%;object-fit:cover;display:block;border-top-left-radius:18px}

    /* RESPONSIVE */
    @media (max-width:1024px){ .editorial{grid-template-columns:repeat(2,1fr)} .about-img img{height:360px} }
    @media (max-width:780px){
      .about-grid{grid-template-columns:1fr}
      .editorial{grid-template-columns:1fr}
      .hero h1{font-size:36px}
      .product-card .media{height:300px}
      header.site-head{height:74vh}
      nav .nav-inner{padding:0 12px}
      .nav-links{display:none}
      .footer-image-wrapper img{max-width:55%}
    }
    /* focus */
    button:focus, a:focus, input:focus {outline:3px solid rgba(191,161,74,0.12);outline-offset:2px}
    /* small utilities */
    .muted-sm{color:var(--muted);font-size:0.95rem}
    /* small reveal class for fade up */
    .fade-up{opacity:0;transform:translateY(8px);transition:opacity .5s,transform .5s}
    .fade-up.show{opacity:1;transform:none}
  </style>
</head>
<body>

  <!-- NAV -->
  <nav class="top" role="navigation" aria-label="Main navigation" id="topNav">
    <div class="nav-inner">
      <a class="brand" href="#home" onclick="scrollToSection(event,'home')">
        <div class="logo" aria-hidden="true">H</div>
        <div>
          <div style="font-family:'Playfair Display',serif;font-weight:600">Hinna Studio</div>
          <div class="sub">Editorial &amp; Atelier</div>
        </div>
      </a>

      <div class="nav-links" aria-hidden="false">
        <a href="#home" onclick="scrollToSection(event,'home')">Home</a>
        <a href="#collection" onclick="scrollToSection(event,'collection')">Collection</a>
        <a href="#editorial" onclick="scrollToSection(event,'editorial')">Editorial</a>
        <a href="#about" onclick="scrollToSection(event,'about')">About</a>
        <a href="#contact" onclick="scrollToSection(event,'contact')">Contact</a>
      </div>

      <div class="nav-actions">
        <button class="menu-btn" id="openMenu" aria-expanded="false" aria-label="Open menu">Menu</button>
        <button class="cart-btn" id="openCart" title="Open cart" aria-haspopup="dialog">üëú <span class="cart-count" id="cartCount">0</span></button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="site-head" id="home" role="banner" aria-label="Hero">
    <div class="hero site">
      <div class="brandline eyebrow">Spring ‚Ä¢ 2025</div>
      <h1>Hinna Studio</h1>
      <p class="lead">Timeless pieces. Effortless style.</p>
      <div class="cta">
        <a class="btn" href="#collection" onclick="scrollToSection(event,'collection')">Shop the Collection</a>
        <a class="btn alt" href="#about" onclick="scrollToSection(event,'about')">Our Story</a>
      </div>
    </div>
  </header>

  <main>
    <!-- COLLECTION (soft background applied) -->
    <section id="collection" class="alt-bg" aria-labelledby="collectionTitle">
      <div class="section-inner site">
        <header style="display:flex;align-items:baseline;justify-content:space-between;gap:12px;margin-bottom:18px;flex-wrap:wrap">
          <div>
            <h2 id="collectionTitle" class="section-title">Featured Collection</h2>
            <p class="section-sub muted">A curated selection of wardrobe essentials ‚Äî crafted for longevity and quiet confidence.</p>
          </div>
          <div style="align-self:center;color:var(--muted);font-size:0.95rem">Spring ‚Ä¢ 2025</div>
        </header>

        <div class="lookbook" id="productGrid" aria-live="polite"></div>
      </div>
    </section>

    <!-- EDITORIAL PORTRAITS (kept clean white) -->
    <section id="editorial" aria-labelledby="editorialTitle">
      <div class="section-inner site">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:24px;margin-bottom:18px;flex-wrap:wrap">
          <div>
            <h2 id="editorialTitle" class="section-title">Editorial Gallery</h2>
            <p class="section-sub muted">Large portraits and editorials that inspired this collection.</p>
          </div>
          <div style="border-top:2px solid var(--gold);width:120px;height:4px;margin-top:8px;opacity:0.95"></div>
        </div>

        <div class="editorial">
          <figure class="portrait"><img loading="lazy" src="https://hinnaorquiola.github.io/images/portrait1.webp" alt="Hinna Studio editorial portrait 1"></figure>
          <figure class="portrait"><img loading="lazy" src="https://hinnaorquiola.github.io/images/portrait2.webp" alt="Hinna Studio editorial portrait 2"></figure>
          <figure class="portrait"><img loading="lazy" src="https://hinnaorquiola.github.io/images/portrait4.webp" alt="Hinna Studio editorial portrait 4"></figure>
          <figure class="portrait"><img loading="lazy" src="https://hinnaorquiola.github.io/images/portrait5.webp" alt="Hinna Studio editorial portrait 5"></figure>
        </div>
      </div>
    </section>

    <!-- ABOUT (soft background applied) -->
    <section id="about" class="alt-bg" aria-labelledby="aboutTitle">
      <div class="section-inner site">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:24px;margin-bottom:28px;flex-wrap:wrap">
          <div>
            <h2 id="aboutTitle" class="section-title">About Hinna Studio</h2>
            <p class="section-sub muted">We design with an editorial eye and an ethical heart ‚Äî minimal silhouettes, premium materials, and considered details.</p>
          </div>
        </div>

        <div class="about-grid">
          <div class="about-img">
            <img loading="lazy" src="https://hinnaorquiola.github.io/images/about-pic.webp" alt="Hinna Studio founder portrait">
          </div>
          <div class="about-text">
            <h3>Signature Style</h3>
            <p class="muted">Hinna Studio brings a minimalist wardrobe to modern life ‚Äî refined tailoring, soft textures, and palettes that age beautifully. Our pieces are designed to be mixed, layered, and loved for seasons.</p>
            <div style="display:flex;gap:14px;margin-top:18px;flex-wrap:wrap">
              <div style="min-width:160px">
                <strong>Material</strong>
                <p class="muted" style="margin:6px 0 0">Linen, organic cotton, recycled blends.</p>
              </div>
              <div style="min-width:160px">
                <strong>Care</strong>
                <p class="muted" style="margin:6px 0 0">Low-impact dyes, gentle washes.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- BANNER / CTA -->
    <section aria-hidden="false">
      <div class="section-inner site">
        <div class="banner" role="region" aria-label="Newsletter call to action">
          <div>
            <div style="font-weight:700;font-family:'Playfair Display',serif">Join our style circle</div>
            <div class="muted-sm">Exclusive early previews, limited drops, and studio notes.</div>
          </div>
          <form id="bannerForm" onsubmit="event.preventDefault(); alert('Thanks! (this is a mock)')" style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <input type="email" required placeholder="Your email" aria-label="email" style="padding:10px 12px;border-radius:999px;border:1px solid rgba(21,18,16,0.06);min-width:220px">
            <button class="btn" aria-label="Subscribe">Subscribe</button>
          </form>
        </div>
      </div>
    </section>

    <!-- TESTIMONIALS + PRESS -->
    <section id="contact" class="alt-section">
      <div class="section-inner site" style="display:grid;grid-template-columns:1fr 360px;gap:24px;align-items:start">
        <div>
          <h2 class="section-title">What clients say</h2>
          <p class="section-sub muted">Real feedback from the studio‚Äôs clients and partners.</p>

          <div class="testimonial-wrap" id="testimonialWrap" aria-live="polite">
            <div class="testimonial" id="testimonialSlide">
              <p>‚ÄúThe quality is unmatched. Every piece feels tailored just for me.‚Äù</p>
              <cite>‚Äî Maya S.</cite>
            </div>
            <div style="display:flex;gap:8px;margin-top:12px;justify-content:center">
              <button class="menu-btn" id="prevTest" aria-label="Previous testimonial">‚óÄ</button>
              <button class="menu-btn" id="nextTest" aria-label="Next testimonial">‚ñ∂</button>
            </div>
          </div>

          <div style="margin-top:28px">
            <h3 style="font-family:'Playfair Display',serif">Featured in</h3>
            <div class="press-logos" aria-hidden="false" style="margin-top:12px">
              <!-- Placeholder images; keep accessible alt text -->
              <img loading="lazy" src="https://hinnaorquiola.github.io/images/fashion-brand.webp" alt="Fashion Brand logo">
              <img loading="lazy" src="https://hinnaorquiola.github.io/images/C&O.webp" alt="C&O logo">
              <img loading="lazy" src="https://hinnaorquiola.github.io/images/fashion-store.webp" alt="Fashion store logo">
            </div>
          </div>
        </div>

        <div>
          <h2 class="section-title" style="margin-top:0">Contact</h2>
          <p class="muted-sm">Press, wholesale inquiries, or custom commissions ‚Äî send us a message.</p>

          <div class="contact-panel" style="margin-top:12px">
            <div style="flex:1;min-width:220px">
              <div style="font-weight:700">Hinna Studio</div>
              <div class="muted" style="margin-top:6px">hello@hinnastudio.example</div>
              <div class="muted" style="margin-top:4px">+63 912 345 6789</div>
              <div class="muted" style="margin-top:6px">Tacloban City, Philippines</div>
            </div>
            <form id="newsletterForm" style="min-width:220px" onsubmit="event.preventDefault(); alert('Thanks! (this is a mock)')">
              <label style="display:block;font-weight:600;margin-bottom:8px">Join our style circle</label>
              <div style="display:flex;gap:8px">
                <input type="email" required placeholder="Email address" style="padding:10px 12px;border-radius:999px;border:1px solid rgba(21,18,16,0.06);flex:1" aria-label="email newsletter">
                <button class="btn" style="border-radius:999px">Subscribe</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="site">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>¬© 2025 Hinna Studio ‚Äî Designed by Hinna Orquiola</div>
        <div class="muted">This demo includes a mock cart and example checkout hooks for Stripe/PayPal integration.</div>
      </div>
    </div>
  </footer>

  <div class="footer-image-wrapper" style="width:100%;display:flex;justify-content:flex-end;margin:0;padding:0;">
    <img src="https://hinnaorquiola.github.io/images/shop now.webp" alt="Footer Editorial Image" style="width:420px;max-width:45%;object-fit:cover;display:block;border-top-left-radius:18px;">
  </div>

  <!-- PRODUCT MODAL -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" id="sheet">
      <div class="left"><img id="modalImage" alt=""></div>
      <div class="right" style="position:relative">
        <button class="close-btn" id="closeModal" aria-label="Close">‚úï</button>
        <h3 id="modalTitle" style="margin-top:8px"></h3>
        <p id="modalDesc" class="muted" style="margin-top:6px"></p>
        <p style="font-weight:700;margin:14px 0" id="modalPrice"></p>
        <div style="display:flex;gap:10px;align-items:center;margin-top:12px">
          <label>Qty</label>
          <input id="modalQty" type="number" value="1" min="1" style="width:70px;padding:6px;border-radius:6px;border:1px solid #ddd">
        </div>
        <div style="margin-top:18px;display:flex;gap:12px">
          <button id="addToCart" class="btn" style="background:var(--gold);border:none;color:#111">Add to cart</button>
          <button id="buyNow" class="btn" style="background:#fff;border:1px solid rgba(21,18,16,0.06)">Buy now</button>
        </div>
      </div>
    </div>
  </div>

  <!-- CART DRAWER -->
  <aside class="drawer" id="cartDrawer" aria-hidden="true" aria-label="Shopping cart">
    <div class="head"><strong>Your Cart</strong><button id="closeCartDrawer" style="background:none;border:none;font-size:18px;cursor:pointer" aria-label="Close cart">‚úï</button></div>
    <div class="items" id="cartItems"></div>
    <div class="checkout">
      <div style="display:flex;justify-content:space-between;margin-bottom:12px"><span class="muted">Subtotal</span><strong id="cartSubtotal">$0.00</strong></div>
      <div style="display:flex;gap:8px">
        <button id="checkoutReal" style="flex:1;padding:10px;border-radius:8px;border:none;background:var(--dark);color:#fff;font-weight:700">Checkout (Real)</button>
        <button id="checkoutMock" style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(21,18,16,0.06);background:#fff">Mock Pay</button>
      </div>
      <p class="muted" style="font-size:12px;margin-top:10px">Real checkout uses Stripe server (example server provided). Mock Pay simulates checkout locally.</p>
    </div>
  </aside>

<script>
/* ---------- PRODUCTS & CART ---------- */
const PRODUCTS = [
  { id: "p1", title: "Classic Linen Shirt", price: 39.00, img: "https://img-1.kwcdn.com/thumbnail/s/a9653bcd4032e4d93a79e072ffae7a09_2b51fdcecf7f.jpg", desc: "Lightweight linen shirt. Breathable, natural fibers." },
  { id: "p2", title: "High-Waist Trousers", price: 45.00, img: "https://img.kwcdn.com/product/fancy/9f0641c7-d49c-4ffe-9e61-2d95dd4cc88e.jpg", desc: "Tailored high-waist trousers for everyday wear." },
  { id: "p3", title: "Minimalist Tote Bag", price: 29.00, img: "https://img.kwcdn.com/product/open/5907b2ad8eca43a4857d912b0f1682e3-goods.jpeg", desc: "Durable canvas tote with leather handles." },
  { id: "p4", title: "Structured Blazer", price: 69.00, img: "https://img.kwcdn.com/product/fancy/2ca2f0b9-864a-4645-bbd8-86dae5776e2a.jpg", desc: "Sharp blazer that keeps its shape." },
  { id: "p5", title: "Soft Knit Sweater", price: 42.00, img: "https://img.kwcdn.com/product/fancy/1285961b-7668-4afd-8939-4f17d0364a0b.jpg", desc: "Cozy sweater with sustainable fibers." },
  { id: "p6", title: "Everyday Denim", price: 55.00, img: "https://img.kwcdn.com/product/fancy/d84a8a8d-da2d-4c31-ac94-6e9f0643c8f0.jpg", desc: "Classic slim-fit denim with stretch." },
  { id: "p7", title: "Satin Slip Dress", price: 59.00, img: "https://hinnaorquiola.github.io/images/satin dress.webp", desc: "Soft draped satin with a fluid silhouette.." },
  { id: "p8", title: "Oversized Trench Coat", price: 89.00, img: "https://hinnaorquiola.github.io/images/coat.webp", desc: "Structured cotton-blend trench with storm flap, waist belt, and clean lines." },
];

let CART = JSON.parse(localStorage.getItem("hinna_cart") || "[]");

function saveCart(){ localStorage.setItem("hinna_cart", JSON.stringify(CART)); updateCartUI(); }
function addToCart(productId, qty=1){
  const p = PRODUCTS.find(x=>x.id===productId); if(!p) return;
  const exist = CART.find(i=>i.id===productId);
  if(exist) exist.qty += Number(qty);
  else CART.push({ id:productId, qty: Number(qty), title:p.title, price:p.price, img:p.img });
  saveCart();
  showToast(`${p.title} added to cart`);
}

/* render products */
const productGrid = document.getElementById("productGrid");
function renderProducts(){
  productGrid.innerHTML = "";
  PRODUCTS.forEach((p, idx)=>{
    const el = document.createElement("article");
    el.className = "product-card fade-up";
    el.innerHTML = `
      <div class="media"><img loading="lazy" src="${p.img}" alt="${p.title}"></div>
      <div class="product-meta">
        <h4>${p.title}</h4>
        <div class="price">$${p.price.toFixed(2)}</div>
        <div class="row">
          <button data-id="${p.id}" class="viewBtn" style="padding:8px 12px;border-radius:8px;border:1px solid rgba(21,18,16,0.04);background:#fff;cursor:pointer">View</button>
          <button data-id="${p.id}" class="quickAdd" style="padding:8px 12px;border-radius:8px;border:none;background:var(--gold);font-weight:700;cursor:pointer">Add</button>
        </div>
      </div>
    `;
    productGrid.appendChild(el);
    setTimeout(()=> el.classList.add('show'), idx * 60);
  });
}
renderProducts();

/* modal & drawer logic */
const modal = document.getElementById("productModal");
const closeModal = document.getElementById("closeModal");
const modalImage = document.getElementById("modalImage");
const modalTitle = document.getElementById("modalTitle");
const modalDesc = document.getElementById("modalDesc");
const modalPrice = document.getElementById("modalPrice");
const modalQty = document.getElementById("modalQty");
let currentProduct = null;

document.addEventListener("click", (e)=>{
  const v = e.target.closest(".viewBtn");
  if(v){ const id=v.dataset.id; openModal(id); }
  const q = e.target.closest(".quickAdd");
  if(q){ addToCart(q.dataset.id, 1); openDrawer(); }
});

function openModal(id){
  const p = PRODUCTS.find(x=>x.id===id); if(!p) return;
  currentProduct = p;
  modalImage.src = p.img; modalTitle.textContent = p.title; modalDesc.textContent = p.desc; modalPrice.textContent = "$" + p.price.toFixed(2);
  modalQty.value = 1;
  modal.classList.add("open"); modal.setAttribute("aria-hidden","false");
}
closeModal.addEventListener("click", ()=>{ modal.classList.remove("open"); modal.setAttribute("aria-hidden","true"); });
modal.addEventListener("click", (e)=>{ if(e.target===modal) { closeModal.click(); } });

document.getElementById("addToCart").addEventListener("click", ()=>{
  const q = Number(modalQty.value || 1);
  addToCart(currentProduct.id, q);
  modal.classList.remove("open");
  openDrawer();
});
document.getElementById("buyNow").addEventListener("click", async ()=>{
  const q = Number(modalQty.value || 1);
  addToCart(currentProduct.id, q);
  await startRealCheckout();
});

/* drawer */
const drawer = document.getElementById("cartDrawer");
const openCartBtn = document.getElementById("openCart");
const closeCartDrawer = document.getElementById("closeCartDrawer");
openCartBtn.addEventListener("click", openDrawer); closeCartDrawer.addEventListener("click", closeDrawer);
function openDrawer(){ drawer.classList.add("open"); drawer.setAttribute("aria-hidden","false"); updateCartUI(); }
function closeDrawer(){ drawer.classList.remove("open"); drawer.setAttribute("aria-hidden","true"); }

function updateCartUI(){
  const itemsEl = document.getElementById("cartItems");
  itemsEl.innerHTML = "";
  let subtotal = 0;
  CART.forEach(item=>{
    subtotal += item.price * item.qty;
    const row = document.createElement("div");
    row.className = "item";
    row.style.display = "flex"; row.style.gap = "12px"; row.style.padding = "12px 0"; row.style.borderBottom = "1px solid rgba(21,18,16,0.03)";
    row.innerHTML = `
      <img src="${item.img}" alt="${item.title}" style="width:72px;height:72px;object-fit:cover;border-radius:8px">
      <div style="flex:1">
        <div style="font-weight:600">${item.title}</div>
        <div class="muted" style="font-size:13px">$${item.price.toFixed(2)}</div>
        <div style="margin-top:8px;display:flex;align-items:center;gap:8px">
          <div style="display:flex;align-items:center;gap:8px">
            <button class="dec" data-id="${item.id}" style="width:32px;height:32px;border-radius:6px;border:1px solid rgba(21,18,16,0.06);background:#fff;cursor:pointer">‚àí</button>
            <span style="padding:6px 10px;border:1px solid rgba(21,18,16,0.04);border-radius:8px">${item.qty}</span>
            <button class="inc" data-id="${item.id}" style="width:32px;height:32px;border-radius:6px;border:1px solid rgba(21,18,16,0.06);background:#fff;cursor:pointer">+</button>
          </div>
          <button style="margin-left:12px;background:none;border:none;color:#b00;cursor:pointer" class="remove" data-id="${item.id}">Remove</button>
        </div>
      </div>
    `;
    itemsEl.appendChild(row);
  });
  document.getElementById("cartSubtotal").textContent = "$" + subtotal.toFixed(2);
  document.getElementById("cartCount").textContent = CART.reduce((s,i)=>s+i.qty,0);
  itemsEl.querySelectorAll(".inc").forEach(b=>b.addEventListener("click", ()=>{ adjustQty(b.dataset.id,1); }));
  itemsEl.querySelectorAll(".dec").forEach(b=>b.addEventListener("click", ()=>{ adjustQty(b.dataset.id,-1); }));
  itemsEl.querySelectorAll(".remove").forEach(b=>b.addEventListener("click", ()=>{ removeItem(b.dataset.id); }));
  localStorage.setItem("hinna_cart", JSON.stringify(CART));
}

function adjustQty(id, delta){
  const it = CART.find(i=>i.id===id); if(!it) return;
  it.qty = Math.max(1, it.qty + delta);
  saveCart();
}
function removeItem(id){ CART = CART.filter(i=>i.id!==id); saveCart(); }

document.getElementById("checkoutMock").addEventListener("click", ()=>{ mockCheckout(); });
document.getElementById("checkoutReal").addEventListener("click", ()=>{ startRealCheckout(); });

function mockCheckout(){
  if(CART.length===0){ alert("Your cart is empty"); return; }
  const items = CART.map(i=>`${i.qty}√ó ${i.title}`).join("\n");
  const total = CART.reduce((s,i)=>s+i.qty*i.price,0).toFixed(2);
  if(confirm(`MOCK CHECKOUT\n\nItems:\n${items}\n\nTotal: $${total}\n\nSimulate successful payment?`)) {
    CART = []; localStorage.setItem("hinna_cart","[]"); updateCartUI(); alert("Payment simulated. Thank you!");
    closeDrawer();
  }
}
async function startRealCheckout(){
  if(CART.length===0){ alert("Your cart is empty"); return; }
  const line_items = CART.map(i=>({ price_data:{
      currency: "usd",
      product_data: { name: i.title, images: [i.img] },
      unit_amount: Math.round(i.price * 100)
    }, quantity: i.qty }));
  try{
    const res = await fetch('/create-checkout-session', {
      method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify({ line_items })
    });
    if(!res.ok) throw new Error('No server or server error');
    const { url } = await res.json();
    if(url){ window.location = url; } else throw new Error('Invalid response from server');
  } catch(err){
    console.warn("Real checkout failed:", err);
    if(confirm("Real checkout server not available. Do you want to run a mock checkout instead?")) mockCheckout();
  }
}

/* INITIALIZE UI */
document.addEventListener('DOMContentLoaded', ()=>{
  CART = JSON.parse(localStorage.getItem("hinna_cart") || "[]");
  updateCartUI();

  // make images clickable to open modal (ensure products rendered first)
  document.querySelectorAll('.product-card .media img').forEach((img, idx)=>{
    img.addEventListener('click', ()=> openModal(PRODUCTS[idx].id));
    img.style.cursor = "pointer";
  });
});

/* SCROLL NAV behavior */
const topNav = document.getElementById('topNav');
window.addEventListener('scroll', ()=>{
  if(window.scrollY > 24) topNav.classList.add('solid'); else topNav.classList.remove('solid');
});

/* small toast */
function showToast(msg){
  const t = document.createElement('div');
  t.textContent = msg;
  t.style.position='fixed';t.style.right='18px';t.style.bottom='18px';t.style.padding='12px 16px';
  t.style.background='rgba(21,18,16,0.9)';t.style.color='#fff';t.style.borderRadius='10px';t.style.zIndex=9999;
  document.body.appendChild(t);
  setTimeout(()=> t.style.opacity=0,2200);
  setTimeout(()=> t.remove(),2600);
}

/* NAV: simple menu for small screens */
document.getElementById('openMenu').addEventListener('click', (e)=>{
  const el = e.currentTarget;
  const expanded = el.getAttribute('aria-expanded') === 'true';
  el.setAttribute('aria-expanded', String(!expanded));
  if(!expanded){
    // show a simple overlay menu with same links as desktop
    const overlay = document.createElement('div');
    overlay.id = 'mobileMenu';
    overlay.style.position='fixed';overlay.style.inset=0;overlay.style.background='rgba(11,8,6,0.8)';overlay.style.zIndex=1400;
    overlay.innerHTML = `
      <div style="max-width:420px;margin:120px auto;background:var(--panel);padding:28px;border-radius:12px;text-align:center;">
        <button id="closeMobile" style="float:right;background:none;border:none;font-size:20px">‚úï</button>
        <nav style="display:flex;flex-direction:column;gap:12px;margin-top:6px">
          <a href="#home" onclick="closeMobileMenu(event,'home')">Home</a>
          <a href="#collection" onclick="closeMobileMenu(event,'collection')">Collection</a>
          <a href="#editorial" onclick="closeMobileMenu(event,'editorial')">Editorial</a>
          <a href="#about" onclick="closeMobileMenu(event,'about')">About</a>
          <a href="#contact" onclick="closeMobileMenu(event,'contact')">Contact</a>
        </nav>
      </div>
    `;
    document.body.appendChild(overlay);
    document.getElementById('closeMobile').addEventListener('click', ()=>{ document.getElementById('mobileMenu')?.remove(); el.setAttribute('aria-expanded','false'); });
  } else {
    document.getElementById('mobileMenu')?.remove();
  }
});
function closeMobileMenu(e,id){ if(e) e.preventDefault(); document.getElementById('mobileMenu')?.remove(); document.getElementById('openMenu').setAttribute('aria-expanded','false'); scrollToSection(null, id); }

/* SMALL: smooth scroll helper */
function scrollToSection(evt, id){
  if(evt) evt.preventDefault();
  const el = document.getElementById(id);
  if(!el) return;
  el.scrollIntoView({behavior:'smooth',block:'start'});
}

/* TESTIMONIALS: simple slider */
const TESTIMONIALS = [
  { text: "‚ÄúThe quality is unmatched. Every piece feels tailored just for me.‚Äù", by: "Maya S." },
  { text: "‚ÄúSubtle, refined, and comfortable ‚Äî I wear their pieces constantly.‚Äù", by: "Lina R." },
  { text: "‚ÄúA small studio with incredible attention to detail.‚Äù", by: "Press: Atelier Mag" }
];
let tIndex = 0;
const testEl = document.getElementById('testimonialSlide');
function renderTestimonial(i){
  const t = TESTIMONIALS[i];
  testEl.innerHTML = `<p>${t.text}</p><cite>‚Äî ${t.by}</cite>`;
}
renderTestimonial(0);
document.getElementById('prevTest').addEventListener('click', ()=>{ tIndex = (tIndex - 1 + TESTIMONIALS.length) % TESTIMONIALS.length; renderTestimonial(tIndex);});
document.getElementById('nextTest').addEventListener('click', ()=>{ tIndex = (tIndex + 1) % TESTIMONIALS.length; renderTestimonial(tIndex);});

/* accessibility: close drawer/modal/menu with escape */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape'){
    modal.classList.remove('open'); drawer.classList.remove('open'); document.getElementById('mobileMenu')?.remove();
  }
});

/* small intersection for fade up effect */
const io = new IntersectionObserver((entries)=>{
  entries.forEach(ent=>{
    if(ent.isIntersecting) ent.target.classList.add('show'); else ent.target.classList.remove('show');
  });
},{threshold:0.12});
document.querySelectorAll('.fade-up').forEach(el=> io.observe(el));

/* initial toast note (optional) */
showToast('Design updated ‚Äî Luxury boutique aesthetic applied.');
</script>
</body>
</html>
